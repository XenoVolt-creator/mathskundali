<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mathskundali</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    body {
      background: linear-gradient(to bottom, #0f0f1c, #1a1a2f);
      color: #dbe9f4;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }
    .card, .neon-box {
      background: #1f1f2b;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 12px #61dafb33;
      margin-bottom: 20px;
    }
    .neon-box input, .dob-calc input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
      background: #2b2b3a;
      color: #fff;
    }
    .neon-btn, .copy-btn {
      padding: 10px 20px;
      background: #61dafb;
      border: none;
      border-radius: 6px;
      color: #000;
      cursor: pointer;
      margin-top: 15px;
    }
    .copy-btn {
      margin-left: 10px;
      background-color: #4fb3d4;
    }
    .neon-btn:hover, .copy-btn:hover {
      background: #4fb3d4;
    }
    .dob-output {
      background: #242438;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      box-shadow: 0 0 8px #61dafb55;
    }
    .dob-output h3 {
      color: #61dafb;
    }
  </style>
</head>
<body>
  <div id="loader">
    <img src="logo.png" alt="Mathskundali Logo" class="loader-logo" />
    <p class="loader-text">
      Note: This website has the explanation of all the tricks that we performed in the math exhibition. You can also play the games and see how we did it during the exhibition.
    </p>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
  </div>

  <header>
    <nav>
      <h1 class="logo">Mathskundali</h1>
      <ul class="nav-links">
        <li><a href="#" onclick="navigate('home')">Home</a></li>
        <li><a href="#" onclick="navigate('tricks')">Magic Tricks</a></li>
        <li><a href="#" onclick="navigate('explanations')">Explanations</a></li>
        <li><a href="#" onclick="navigate('about')">About Us</a></li>
      </ul>
    </nav>
  </header>

  <main id="main-content"></main>

  <footer>
    <p>&copy; 2025 Mathskundali. All rights reserved.</p>
  </footer>

  <script>
    const mainContent = document.getElementById('main-content');

    function navigate(view) {
      if (view === 'home' || view === 'tricks') {
        mainContent.innerHTML = `
          <section class="hero">
            <h2>Unlocking the Magic of Numbers</h2>
            <p>Welcome to Mathskundali, where we blend mathematical prediction with magic!</p>
            <div class="category-buttons">
              <button onclick="showTrickCategory('simple')">Simple Tricks</button>
              <button onclick="showTrickCategory('hard')">Hard Tricks</button>
              <button onclick="showTrickCategory('complex')">Complex Tricks</button>
            </div>
          </section>
        `;
      } else if (view === 'about') {
        mainContent.innerHTML = `
          <section class="about">
            <h2>About Us</h2>
            <p>We‚Äôre a group of students passionate about the mystical beauty of math. Mathskundali is our attempt to bring prediction and fun together through numbers. Our team ‚Äî <strong>Bisaj Khadka</strong>, <strong>Yubaraj Yadav</strong>, and <strong>Samuel Aryal</strong> ‚Äî created <strong>Mathskundali</strong> to show how math can surprise, predict, and entertain!</p>
          </section>
        `;
      } else if (view === 'explanations') {
        mainContent.innerHTML = `
          <section class="explanations">
            <h2>Explanations</h2>
            <ul>
              <li><strong>Simple Tricks:</strong> Always 5, Age Prediction, Birthday Day</li>
              <li><strong>Hard Tricks:</strong> Height Trick, Phone Number Reveal</li>
              <li><strong>Complex Tricks:</strong> I Know Your DOB, Zeller's Formula, ISO Week</li>
            </ul>
          </section>
        `;
      }
    }

    function showTrickCategory(type) {
      const categories = {
        simple: {
          title: "Simple Tricks",
          tricks: [
            { id: 1, name: "The Number is Always 5" },
            { id: 2, name: "Magic Age Trick" },
            { id: 3, name: "Birthday Final Number" }
          ]
        },
        hard: {
          title: "Hard Tricks",
          tricks: [
            { id: 4, name: "Phone Number Reveal" },
            { id: 5, name: "Predict Your Height" },
            { id: 6, name: "Birthday Number Pattern" }
          ]
        },
        complex: {
          title: "Complex Tricks",
          tricks: [
            { id: 7, name: "üîÆ The Number That Reveals Your DOB" },
            { id: 8, name: "Zeller‚Äôs Formula" },
            { id: 9, name: "ISO Week Number" }
          ]
        }
      };

      const selected = categories[type];
      let trickCards = selected.tricks.map(trick => `
        <div class="card">
          <strong>${trick.name}</strong><br>
          <button onclick="showTrick(${trick.id})">Play the Trick</button>
        </div>
      `).join("");

      mainContent.innerHTML = `
        <section class="tricks">
          <h2>${selected.title}</h2>
          <div class="tricks-grid">${trickCards}</div>
          <button onclick="navigate('home')" class="back-btn">‚Üê Back to Categories</button>
        </section>
      `;
    }

    function showTrick(id) {
      if (id === 7) {
        mainContent.innerHTML = `
          <section class="trick-details">
            <h2 style="color:#61dafb">üîÆ The Number That Reveals Your Date of Birth</h2>

            <!-- Steps -->
            <div class="card">
              <h3>üßÆ Steps:</h3>
              <ol>
                <li>Multiply your <strong>day</strong> by 10000</li>
                <li>Add your <strong>month</strong> √ó 100</li>
                <li>Then add the last two digits of your <strong>year</strong></li>
                <li>Multiply the number by <strong>7919</strong></li>
                <li> Divide the final number by <strong>100</strong></li>
              </ol>
              <p style="color:#aaa;">Don't want to do this manually? Use the calculator below üëá</p>
            </div>

            <!-- Calculator -->
            <div class="card dob-calc">
              <h3>üéØ DOB to Final Number Calculator</h3>
              <input type="number" id="calc-day" placeholder="Enter Day (e.g. 23)">
              <input type="number" id="calc-month" placeholder="Enter Month (e.g. 5)">
              <input type="number" id="calc-year" placeholder="Enter Year (e.g. 2004)">
              <button class="neon-btn" onclick="calculateMagicNumber()">Calculate</button>
              <button class="copy-btn" onclick="copyFinalNumber()">Copy Number</button>
              <p id="calculated-output" style="margin-top:10px;"></p>
            </div>

            <!-- Reveal Box -->
            <div class="neon-box">
              <h3>üîì Paste the Final Number Below</h3>
              <input type="number" id="magic-dob-number" placeholder="Enter final number here..." />
              <button class="neon-btn" onclick="decodeDOB()">Reveal My Date of Birth</button>
              <div id="dob-reveal" class="dob-output"></div>
              <div id="dob-breakdown" style="margin-top: 1rem; color:#ccc;"></div>
            </div>

            <button onclick="showTrickCategory('complex')" class="back-btn">‚Üê Back to Tricks</button>
          </section>
        `;
      } else {
        mainContent.innerHTML = `
          <section class="trick-details">
            <h2>Work in progress</h2>
            <p>This trick is still being developed.</p>
            <button onclick="navigate('home')" class="back-btn">‚Üê Back to Categories</button>
          </section>
        `;
      }
    }

    function calculateMagicNumber() {
      const day = parseInt(document.getElementById("calc-day").value);
      const month = parseInt(document.getElementById("calc-month").value);
      const year = parseInt(document.getElementById("calc-year").value);
      const shortYear = year % 100;

      if (isNaN(day) || isNaN(month) || isNaN(year)) {
        document.getElementById("calculated-output").innerText = "Please enter valid numbers.";
        return;
      }

      const baseNumber = (day * 10000) + (month * 100) + shortYear;
      const semifinal = baseNumber * 7919;
      const finalNumber = semifinal / 100

      document.getElementById("calculated-output").innerHTML = `Final Number: <strong id="final-num">${finalNumber}</strong>`;
    }

    function copyFinalNumber() {
  const output = document.getElementById("final-num");
  if (!output) return;
  navigator.clipboard.writeText(output.textContent);
    };  

    function decodeDOB() {
      const input = Number(document.getElementById("magic-dob-number").value);
      const resultBox = document.getElementById("dob-reveal");
      const breakdownBox = document.getElementById("dob-breakdown");

      if (!input || isNaN(input) || input < 1000000) {
        resultBox.innerHTML = `<p>Please enter a valid number (usually over 1 million).</p>`;
        breakdownBox.innerHTML = "";
        return;
      }
      
      const decoded = input * 100
      const semidecoded = decoded / 7919;
      const year = semidecoded % 100;
      const month = Math.floor((semidecoded /100)%100 );
      const day = Math.floor(semidecoded / 10000);

      resultBox.innerHTML = `
        <h3>üéâ Your Date of Birth: <strong>${day}/${month}/${year}</strong></h3>
      `;
    }

    document.addEventListener("DOMContentLoaded", () => {
      setTimeout(() => {
        document.getElementById("loader").style.display = "none";
        navigate('home');
      }, 3000);
    });
  </script>
</body>
</html>
