<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mathskundali</title>
  <link rel="stylesheet" href="style.css"/>

  <!-- ‚úÖ Fixed Nepali date converter script path -->

  <style>
    body {
      background: linear-gradient(to bottom, #0f0f1c, #1a1a2f);
      color: #dbe9f4;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }
    .card, .neon-box {
      background: #1f1f2b;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 12px #61dafb33;
      margin-bottom: 20px;
    }
    .neon-box input, .dob-calc input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
      background: #2b2b3a;
      color: #fff;
    }
    .neon-btn, .copy-btn {
      padding: 10px 20px;
      background: #61dafb;
      border: none;
      border-radius: 6px;
      color: #000;
      cursor: pointer;
      margin-top: 15px;
    }
    .copy-btn {
      margin-left: 10px;
      background-color: #4fb3d4;
    }
    .neon-btn:hover, .copy-btn:hover {
      background: #4fb3d4;
    }
    .dob-output {
      background: #242438;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      box-shadow: 0 0 8px #61dafb55;
    }
    .dob-output h3 {
      color: #61dafb;
    }
  </style>
</head>
<body>
    <div id="loader">
    <img src="logo.png" alt="Mathskundali Logo" class="loader-logo" />
    <p class="loader-text">
      Note: This website has the explanation of all the tricks that we performed in the math exhibition. You can also play the games and see how we did it during the exhibition.
    </p>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
  </div>

  <header>
    <nav>
      <h1 class="logo">Mathskundali</h1>
      <ul class="nav-links">
        <li><a href="#" onclick="navigate('home')">Home</a></li>
        <li><a href="#" onclick="navigate('tricks')">Magic Tricks</a></li>
        <li><a href="#" onclick="navigate('explanations')">Explanations</a></li>
        <li><a href="#" onclick="navigate('about')">About Us</a></li>
      </ul>
    </nav>
  </header>

  <main id="main-content"></main>

  <footer>
    <p>&copy; 2025 Mathskundali. All rights reserved.</p>
  </footer>

  <script>
    const mainContent = document.getElementById('main-content');

    function navigate(view) {
      if (view === 'home' || view === 'tricks') {
        mainContent.innerHTML = `
          <section class="hero">
            <h2>Unlocking the Magic of Numbers</h2>
            <p>Welcome to Mathskundali, where we blend mathematical prediction with magic!</p>
            <div class="category-buttons">
              <button onclick="showTrickCategory('simple')">Simple Tricks</button>
              <button onclick="showTrickCategory('hard')">Hard Tricks</button>
              <button onclick="showTrickCategory('complex')">Complex Tricks</button>
            </div>
          </section>
        `;
      } else if (view === 'about') {
        mainContent.innerHTML = `
          <section class="about">
            <h2>About Us</h2>
            <p>We‚Äôre a group of students passionate about the mystical beauty of math. Mathskundali is our attempt to bring prediction and fun together through numbers. Our team ‚Äî <strong>Bisaj Khadka</strong>, <strong>Yubaraj Yadav</strong>, and <strong>Samuel Aryal</strong> ‚Äî created <strong>Mathskundali</strong> to show how math can surprise, predict, and entertain!</p>
          </section>
        `;
      } else if (view === 'explanations') {
        mainContent.innerHTML = `
          <section class="explanations">
            <h2>Explanations</h2>
            <ul>
              <li><strong>Simple Tricks:</strong> Always 5, Age Prediction, Birthday Day</li>
              <li><strong>Hard Tricks:</strong> Height Trick, Phone Number Reveal</li>
              <li><strong>Complex Tricks:</strong> I Know Your DOB, Zeller's Formula, ISO Week</li>
            </ul>
          </section>
        `;
      }
    }

    function showTrickCategory(type) {
      const categories = {
        simple: { title: "Simple Tricks", tricks: [ { id: 1, name: "Hand Trick For 9 Times Table" }, { id: 2, name: "Multiply Any Number By 5-Fast" }, { id: 3, name: "Your Lucky No." } ] },
        hard: { title: "Hard Tricks", tricks: [ { id: 4, name: "Your Secret Number" }, { id: 5, name: "Predict Your Height" }, { id: 6, name: "Birthday Number Pattern" } ] },
        complex: { title: "Complex Tricks", tricks: [ { id: 7, name: "üîÆ The Number That Reveals Your DOB" }, { id: 8, name: "Zeller‚Äôs Formula" }, { id: 9, name: "ISO Week Number" } ] }
      };
      const selected = categories[type];
      const trickCards = selected.tricks.map(trick => `
        <div class="card">
          <strong>${trick.name}</strong><br>
          <button onclick="showTrick(${trick.id})">Play the Trick</button>
        </div>
      `).join('');
     mainContent.innerHTML = `
  <section class="tricks">
    <h2>${selected.title}</h2>
    <div class="tricks-grid">${trickCards}</div>
    <button onclick="navigate('home')" class="back-btn">‚Üê Back to Categories</button>
    ${type === 'complex' ? `<button onclick="alert('Professor-only section coming soon!')" class="prof-btn">More Complex Tricks (Only for Professors)</button>` : ''}
  </section>
`;

    }

    function showTrick(id) {
      if (id === 7) {
        mainContent.innerHTML = `
          <section class="trick-details">
            <h2 style="color:#61dafb">üîÆ The Number That Reveals Your Date of Birth</h2>
            <div class="card">
              <h3>üßÆ Steps:</h3>
              <ol>
                <li>Multiply your <strong>day</strong> by 10000</li>
                <li>Add your <strong>month</strong> √ó 100</li>
                <li>Then add the last two digits of your <strong>year</strong></li>
                <li>Multiply the number by <strong>7919</strong></li>
                <li>Divide the final number by <strong>100</strong></li>
              </ol>
              <p style="color:#aaa;">Don't want to do this manually? Use the calculator below üëá</p>
            </div>
            <div class="card dob-calc">
              <h3>üßÆ Manual Calculator</h3>
              <input type="text" id="manual-display" readonly placeholder="0" />
              <div class="calc-buttons">
                <button onclick="pressKey('7')">7</button>
                <button onclick="pressKey('8')">8</button>
                <button onclick="pressKey('9')">9</button>
                <button onclick="pressKey('/')">/</button>
                <button onclick="pressKey('4')">4</button>
                <button onclick="pressKey('5')">5</button>
                <button onclick="pressKey('6')">6</button>
                <button onclick="pressKey('*')">*</button>
                <button onclick="pressKey('1')">1</button>
                <button onclick="pressKey('2')">2</button>
                <button onclick="pressKey('3')">3</button>
                <button onclick="pressKey('-')">-</button>
                <button onclick="pressKey('0')">0</button>
                <button onclick="pressKey('.')">.</button>
                <button onclick="pressKey('+')">+</button>
                <button onclick="pressKey('(')">(</button>
                <button onclick="pressKey(')')">)</button>
                <button onclick="clearManual()">C</button>
                <button onclick="deleteManual()">DEL</button>
                <button onclick="calculateManual()">=</button>
                <button onclick="copyManualResult()">Copy</button>
              </div>
            </div>
            <style>
              .calc-buttons {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
                margin-top: 15px;
              }
              .calc-buttons button {
                padding: 12px;
                font-size: 1rem;
                background-color: #2b2b3a;
                color: #fff;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                transition: background-color 0.2s;
              }
              .calc-buttons button:hover {
                background-color: #3c3c4f;
              }
              #manual-display {
                width: 100%;
                font-size: 1.2rem;
                padding: 10px;
                background-color: #1c1c2b;
                color: #fff;
                border: none;
                border-radius: 6px;
                margin-bottom: 10px;
                text-align: right;
              }
            </style>
            <div class="neon-box">
              <h3>üîì Paste the Final Number Below</h3>
              <input type="number" id="magic-dob-number" placeholder="Enter final number here..." />
              <button class="neon-btn" onclick="decodeDOB()">Reveal My Date of Birth</button>
              <div id="dob-reveal" class="dob-output"></div>
              <div id="dob-breakdown" style="margin-top: 1rem; color:#ccc;"></div>
            </div>
            <button onclick="showTrickCategory('complex')" class="back-btn">‚Üê Back to Tricks</button>
          </section>`;
      }
      else if (id === 8 || id === 9) {
        const isZeller = (id === 8);
        mainContent.innerHTML = `
          <section class="trick-details">
            <h2 style="color:#61dafb">${isZeller ? "Zeller‚Äôs Formula - Day of the Week Calculator" : "ISO Week Number Calculator"}</h2>
            <p>Enter your birth date in BS (Bikram Sambat) to convert to AD and find the ${isZeller ? "day of the week" : "ISO week number and year"}:</p>
            <div class="card dob-calc">
              <label>BS Year:</label>
              <input type="number" id="bs-year" placeholder="2079" />
              <label>BS Month:</label>
              <input type="number" id="bs-month" placeholder="1-12" />
              <label>BS Day:</label>
              <input type="number" id="bs-day" placeholder="1-32" />
              <button class="neon-btn" id="convert-bs-to-ad">Convert BS to AD</button>
            </div>
            <div class="card dob-calc" style="margin-top:20px;">
              <label>AD Year:</label>
              <input type="number" id="ad-year" placeholder="2023" />
              <label>AD Month:</label>
              <input type="number" id="ad-month" placeholder="1-12" />
              <label>AD Day:</label>
              <input type="number" id="ad-day" placeholder="1-31" />
              <button class="neon-btn" id="${isZeller ? 'calculate-day' : 'calculate-iso-week'}">${isZeller ? 'Calculate Day of Week' : 'Calculate ISO Week Number'}</button>
            </div>
            <div id="zellers-result" class="dob-output" style="margin-top:20px; font-weight:bold; font-size:1.2em;"></div>
            <button onclick="showTrickCategory('complex')" class="back-btn" style="margin-top:30px;">‚Üê Back to Tricks</button>
          </section>
        `;

        setTimeout(() => {
          document.getElementById('convert-bs-to-ad').addEventListener('click', () => {
            const bsY = +document.getElementById('bs-year').value;
            const bsM = +document.getElementById('bs-month').value;
            const bsD = +document.getElementById('bs-day').value;

            try {
              const adDate = bsToAd(bsY, bsM, bsD);

              document.getElementById('ad-year').value = adDate.year;
              document.getElementById('ad-month').value = adDate.month;
              document.getElementById('ad-day').value = adDate.day;

              document.getElementById('zellers-result').textContent =
                `Converted AD Date: ${adDate.year}-${adDate.month}-${adDate.day}`;
            } catch (e) {
              alert("Invalid BS date. Please enter a valid one.");
            }
          });

          if (isZeller) {
            document.getElementById('calculate-day').addEventListener('click', () => {
              let y = +document.getElementById('ad-year').value;
              let m = +document.getElementById('ad-month').value;
              const d = +document.getElementById('ad-day').value;

              if (m < 3) {
                m += 12;
                y--;
              }

              const K = y % 100;
              const J = Math.floor(y / 100);
              const h = (d + Math.floor(13 * (m + 1) / 5) + K + Math.floor(K / 4) + Math.floor(J / 4) + (5 * J)) % 7;
              const days = ["Saturday", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday"];

              document.getElementById('zellers-result').textContent = `Day of the week: ${days[h]}`;
            });
          } else {
            document.getElementById('calculate-iso-week').addEventListener('click', () => {
              let y = +document.getElementById('ad-year').value;
              let m = +document.getElementById('ad-month').value;
              let d = +document.getElementById('ad-day').value;
              try {
                const result = getISOWeekNumber(new Date(y, m -1, d));
                document.getElementById('zellers-result').textContent = `ISO Week Number: ${result.week}, Year: ${result.year}`;
              } catch {
                alert('Invalid AD date.');
              }
            });
          }
        }, 50);
      }
    else if (id === 1) {
  mainContent.innerHTML = `
    <section class="trick-details">
      <h2 style="color:#61dafb">üñêÔ∏è 9 Times Table - Hand Trick</h2>
      <div class="card">
        <h3>üß† Amazing Hand Trick for 9 Table</h3>
        <ul style="line-height: 1.8; padding-left: 20px;">
          <li>Put both hands in front of you, palms down.</li>
          <li>To multiply a number from 1 to 10 by 9, bend the finger of the number you're multiplying.<br><em>(e.g., bend 3rd finger for 9 √ó 3)</em></li>
          <li>Count fingers to the <strong>left</strong> of the bent finger ‚Üí this is the <strong>tens digit</strong>.</li>
          <li>Count fingers to the <strong>right</strong> of the bent finger ‚Üí this is the <strong>ones digit</strong>.</li>
        </ul>
        <p style="margin-top:10px; font-size:1.1em;">
          <strong>Example:</strong> Bend the 4th finger ‚Üí 3 on the left and 6 on the right ‚Üí<br>
          <strong style="color:#61dafb; font-size:1.3em;">9 √ó 4 = 36</strong>
        </p>
      </div>
      <div class="card">
        <h3>üîç Visual Help</h3>
        <img src="hand-trick-9table.png" alt="9 Times Table Hand Trick" style="width:100%; border-radius:12px; box-shadow:0 0 8px #61dafb55;" />
        <p style="color:#aaa; margin-top:10px;">Try this with your hands now! üñêÔ∏èü§©</p>
      </div>
      <button onclick="showTrickCategory('simple')" class="back-btn">‚Üê Back to Tricks</button>
    </section>
  `;
}
  else if (id === 2) {
    mainContent.innerHTML = `
      <section class="trick-details">
        <h2 style="color:#61dafb">‚úã Multiply Any Number by 5 Fast</h2>
        <div class="card">
          <h3>üß† Quick Math Trick</h3>
          <p>Follow these simple steps to multiply any number by 5 instantly:</p>
          <ul style="line-height: 1.8; padding-left: 20px;">
            <li>If the number is <strong>even</strong>, divide it by 2 and add a 0 at the end.</li>
            <li>If the number is <strong>odd</strong>, subtract 1, divide by 2, and add 5 at the end.</li>
          </ul>
          <p style="margin-top:10px; font-size:1.1em;">
            <strong>Example (Even):</strong> 26 √ó 5 ‚ûú 26 √∑ 2 = 13 ‚ûú add 0 ‚ûú 130<br>
            <strong>Example (Odd):</strong> 27 √ó 5 ‚ûú 27 - 1 = 26 ‚ûú √∑ 2 = 13 ‚ûú add 5 ‚ûú 135
          </p>
        </div>
        <div class="card">
          <h3>üîç Visual Example</h3>
          <img src="multiply-by-5-fast.png" alt="Multiply by 5 Fast Trick" style="width:100%; border-radius:12px; box-shadow:0 0 8px #61dafb55;" />
        </div>
        <button onclick="showTrickCategory('simple')" class="back-btn">‚Üê Back to Tricks</button>
      </section>
    `;
  }
else if (id === 3) {
  mainContent.innerHTML = `
    <section class="trick-details" style="display: flex; justify-content: center; align-items: center; min-height: 80vh;">
      <div style="
        background: #0f172a;
        border-radius: 15px;
        padding: 40px 30px;
        max-width: 500px;
        width: 100%;
        text-align: center;
        box-shadow: 0 0 30px #61dafb33;
      ">
        <h2 style="color: #61dafb; margin-bottom: 10px; font-size: 1.8rem;">üîÆ Your Lucky no.</h2>
        <p style="color: #dbe9f4; margin-bottom: 25px;">Think of any number, enter it below, and witness your lucky no.!</p>

        <input 
          type="number" 
          id="trick3-input" 
          placeholder="Enter any number"
          style="
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            background: #1e293b;
            color: #fff;
            font-size: 1.2rem;
          "
        />

        <button 
          onclick="predictTrick3()" 
          style="
            margin-top: 20px;
            padding: 12px 35px;
            background: #61dafb;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
          "
        >‚ú® Predict</button>

        <div id="trick3-result" style="
          margin-top: 30px;
          font-size: 1.5rem;
          font-weight: bold;
          color: #dbe9f4;
        "></div>

        <div id="trick3-knowhow" style="display:none; margin-top: 20px;">
          <button 
            onclick="document.getElementById('trick3-knowhow-text').style.display='block'; this.style.display='none';"
            style="
              background: #334155;
              color: #dbe9f4;
              border: none;
              border-radius: 6px;
              padding: 10px 20px;
              cursor: pointer;
              font-size: 0.95rem;
            "
          >Want to Know How? ü§î</button>
          <div id="trick3-knowhow-text" style="
            display:none;
            margin-top: 10px;
            color: #dbe9f4;
            font-size: 0.95rem;
          ">üëâ Go to the explanation section! üòù</div>
        </div>

        <button 
          onclick="showTrickCategory('simple')" 
          style="
            margin-top: 20px;
            background: #334155;
            color: #dbe9f4;
            border: none;
            border-radius: 6px;
            padding: 10px 25px;
            cursor: pointer;
            font-size: 0.95rem;
          "
        >‚Üê Back to Tricks</button>
      </div>
    </section>
  `;
}
else if (id === 4) {
  mainContent.innerHTML = `
    <section class="trick-details">
      <h2 style="color:#61dafb">üîê Your Secret Number</h2>
      <div class="card">
        <h3>üß† Steps to Perform:</h3>
        <ol>
          <li>Think of any 3-digit number where the <strong>first and last digits differ by at least 2</strong>.</li>
          <li>Reverse the number.</li>
          <li>Subtract the smaller number from the larger one.</li>
          <li>Now reverse the result.</li>
          <li>Add the two numbers.</li>
        </ol>
      </div>
      <div class="card">
      <div class="card">
  <h3>üéÆ Try It Yourself</h3>
  <p>Think of a 3-digit number (first and last digit should differ by 2 or more), and enter it below:</p>
  <input type="number" id="trick4-input" placeholder="Enter a 3-digit number" />
  <button class="neon-btn" onclick="playTrick4()">‚ú® Predict</button>
  <div id="trick4-result" style="margin-top: 15px; font-size: 1.2rem;"></div>
</div>

<div id="trick4-how" style="margin-top: 20px; display: none;">
  <button class="neon-btn" onclick="document.getElementById('trick4-explanation').style.display='block'; this.style.display='none';">Want to Know How? ü§î</button>
  <div id="trick4-explanation" style="display:none; margin-top:10px; color:#dbe9f4;">
    üëâ Go to the explanation section! üòù
  </div>
</div>
    </section>
  `;
}





      else {
        mainContent.innerHTML = `<section class="trick-details"><h2>Coming Soon</h2><p>This trick is under development.</p></section>`;
      }
    }
        

    // ISO week number calculation function
    function getISOWeekNumber(date) {
      const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
      const dayNum = d.getUTCDay() || 7;
      d.setUTCDate(d.getUTCDate() + 4 - dayNum);
      const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
      const weekNo = Math.ceil(((d - yearStart) / 86400000 + 1) / 7);
      return { week: weekNo, year: d.getUTCFullYear() };
    }

    // Calculator Functions
let manualExpression = '';

function pressKey(val) {
  manualExpression += val;
  document.getElementById('manual-display').value = manualExpression;
}

function calculateManual() {
  try {
    const result = eval(manualExpression);
    document.getElementById('manual-display').value = result;
    manualExpression = result.toString();
  } catch (e) {
    document.getElementById('manual-display').value = "Error";
    manualExpression = '';
  }
}

function deleteManual() {
  manualExpression = manualExpression.slice(0, -1);
  document.getElementById('manual-display').value = manualExpression;
}

function clearManual() {
  manualExpression = '';
  document.getElementById('manual-display').value = '';
}

function copyManualResult() {
  const result = document.getElementById('manual-display').value;
  if (result && result !== "Error") {
    navigator.clipboard.writeText(result);
  }
}

// Decode DOB from number
function decodeDOB() {
  const input = Number(document.getElementById("magic-dob-number").value);
  const output = document.getElementById("dob-reveal");
  const breakdown = document.getElementById("dob-breakdown");

  if (!input || input < 1000000) {
    output.innerHTML = `<p>Please enter a valid number (usually over 1 million).</p>`;
    breakdown.innerHTML = "";
    return;
  }

  const semi = (input * 100) / 7919;
  const year = Math.floor(semi % 100);
  const month = Math.floor((semi / 100) % 100);
  const day = Math.floor(semi / 10000);

  output.innerHTML = `<h3>üéâ Your Date of Birth: <strong>${day}/${month}/${year}</strong></h3>`;
}

function predictTrick3() {
  const num = Number(document.getElementById('trick3-input').value);
  if (isNaN(num)) {
    document.getElementById('trick3-result').innerHTML = "Please enter a valid number.";
    document.getElementById('trick3-knowhow').style.display = 'none';
    return;
  }

  const result = (((num * 2) + 10) / 2) - num;

  document.getElementById('trick3-result').innerHTML = `üéâ Your Lucky Number is <strong>${result}</strong>`;
  document.getElementById('trick3-knowhow').style.display = 'block';
  document.getElementById('trick3-knowhow-text').style.display = 'none';
}


    // Other existing functions (calculateMagicNumber, decodeDOB, manual calculator, etc.) remain unchanged...

    document.addEventListener("DOMContentLoaded", () => {
      const loader = document.getElementById("loader");
      if (loader) {
        setTimeout(() => {
          loader.style.display = "none";
          navigate('home');
        }, 3000);
      } else {
        navigate('home');
      }
    });

    function playTrick4() {
  const input = document.getElementById("trick4-input").value.trim();
  const resultDiv = document.getElementById("trick4-result");
  const howDiv = document.getElementById("trick4-how");

  if (!/^\d{3}$/.test(input)) {
    resultDiv.innerHTML = "‚ö†Ô∏è Please enter a valid 3-digit number.";
    howDiv.style.display = "none";
    return;
  }
 const firstDigit = Number(input[0]);
  const lastDigit = Number(input[2]);

  if (Math.abs(firstDigit - lastDigit) < 2) {
  resultDiv.innerHTML = '‚ö†Ô∏è Please enter a valid 3-digit number.';
  howDiv.style.display = 'none';
  return;
}

  const num = parseInt(input);
  const rev = parseInt(input.split("").reverse().join(""));
  const big = Math.max(num, rev);
  const small = Math.min(num, rev);
  const diff = big - small;
  const reversedDiff = parseInt(diff.toString().split("").reverse().join(""));
  const final = diff + reversedDiff;

 resultDiv.innerHTML = `üîê Your secret number is: <strong style="color:#61dafb; font-size:1.3em;">${final}</strong>`;
  howDiv.style.display = "block";
  document.getElementById("trick4-explanation").style.display = "none";
}


  </script>

<script src="bsAdConverter.js"></script>
<script>
  // Example usage of bsToAd from external script
  const bsYear = 2078, bsMonth = 5, bsDay = 15;
  const adDate = bsToAd(bsYear, bsMonth, bsDay);
  console.log(`${adDate.year}-${adDate.month}-${adDate.day}`);
</script>
<script src="script.js"></script>

</body>
</html
